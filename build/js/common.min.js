"use strict";window.onload=function(){setTimeout((function(){$(".js-preloader").css("opacity","0"),setTimeout((function(){$(".js-preloader").remove()}),500)}),3e3),$(".js-accordeon-trigger").on("click",(function(e){var r=$(e.currentTarget);r.closest(".js-accordeon").find(".js-accordeon-trigger").not(r).parent().removeClass("active").find(".js-accordeon-trigger").next().slideUp(300),r.parent().toggleClass("active").find(".js-accordeon-trigger").next().slideToggle(300)})),$(".js-select").each((function(e,r){$(r).select2({placeholder:$(r).attr("data-placeholder"),minimumResultsForSearch:-1})})),$(".bubble__close").on("click",(function(e){e.preventDefault(),$(e.currentTarget).parent().hide(0)})),$(window).innerWidth()<1200&&$(".bubble").each((function(e,r){var t=$(r);t.attr("style","top: ".concat(t.attr("data-top"),"; left: ").concat(t.attr("data-left"),";"))})),$(".js-radio").on("click",(function(){var e=$(this),r=e.find("input").attr("name");$('.radio__input[name="'.concat(r,'"]')).parent().removeClass("radio--checked"),e.addClass("radio--checked")}));var e=0,r=function(r,t){$(r.target).closest(".popup__window").length&&t.hasClass("js-popup")||($("body").css({position:"static",marginTop:"0"}),window.scrollTo(0,e),t.closest(".js-popup").hide(0))},t=function(r){e=window.scrollY,$("body").css({position:"fixed",marginTop:"".concat(-e,"px")}),r.fadeIn(300)};if($("body").on("click",".js-open-popup",(function(e){e.preventDefault();var r=$(this).attr("data-popup"),i=$('.js-popup[data-popup="'.concat(r,'"]'));t(i)})),$(".js-close-popup").on("click",(function(e){r(e,$(this))})),$(".popup__auth-tabs-item").on("click",(function(e){e.preventDefault();var r=$(e.currentTarget),t=r.attr("data-tab");$(".popup__auth-tabs-item--current").removeClass("popup__auth-tabs-item--current"),r.addClass("popup__auth-tabs-item--current"),$(".popup__auth-content--current").removeClass("popup__auth-content--current"),$('.popup__auth-content[data-tab="'.concat(t,'"]')).addClass("popup__auth-content--current")})),$(document).on("click",(function(e){$(e.target).closest(".header-bottom__menu").length||$(e.target).hasClass("header-bottom__nav-link")||$(".header-bottom__menu").slideUp(300)})),$(".js-header-slider").slick({autoplay:!0,autoplaySpeed:7e3,prevArrow:'<div class="header-top__slider-arrow header-top__slider-arrow--prev">→</div>',nextArrow:'<div class="header-top__slider-arrow header-top__slider-arrow--next">→</div>'}),$(".header-bottom__nav-link").on("click",(function(e){e.preventDefault(),$(".header-bottom__menu").hide(0);var r=$('.header-bottom__menu[data-menu="'.concat($(e.currentTarget).attr("data-menu"),'"]'));r.is(":visible")?r.slideUp(300):r.css("display","flex").hide(0).slideDown(300)})),$('.header-middle__info-action[data-icon="burger"]').on("click",(function(e){$(e.currentTarget).toggleClass("header-middle__info-action--active"),$(".header").toggleClass("header--active"),$(".header__menu").slideToggle(500)})),$(".header__menu-map-heading").on("click",(function(e){var r=$(e.currentTarget),t=r.parent();t.hasClass("header__menu-map--active")?r.parent().find(".header__menu-map-link").slideToggle(300):($(".header__menu-map").removeClass("header__menu-map--active"),$(".header__menu-map-link").slideUp(300),r.parent().find(".header__menu-map-link").css("display","block").hide(0).slideToggle(300)),t.toggleClass("header__menu-map--active")})),$(window).innerWidth()<1200){var i=$(".encyclopedia-tabs__grid"),a=i.attr("data-current"),n=$(".encyclopedia-tabs__item").width()*a;0!==a&&i.scrollLeft(n+30)}$(".js-helpful-services-slider").slick({slidesToShow:4,prevArrow:'<div class="slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="slider__arrow slider__arrow--next"></div>',responsive:[{breakpoint:1199,settings:"unslick"}]}),$(".js-helpful-articles-slider").slick({slidesToShow:3,prevArrow:'<div class="slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="slider__arrow slider__arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,infinite:!1,slidesToShow:1}}]}),$(".js-reviews-slider").slick({slidesToShow:3,prevArrow:'<div class="reviews__slider-arrow slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="reviews__slider-arrow slider__arrow slider__arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,infinite:!1,slidesToShow:1}}]}),$(".js-partners-slider").slick({slidesToShow:6,swipeToSlide:!0,prevArrow:'<div class="reviews__partners-arrow slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="reviews__partners-arrow slider__arrow slider__arrow--next"></div>',pauseOnHover:!1,autoplay:!0,autoplaySpeed:0,cssEase:"linear",speed:1e4,responsive:[{breakpoint:1199,settings:{slidesToShow:3}}]}),$(".js-difficulties").on("afterChange init",(function(e,r){$(".difficulties__slider-arrow.slider__arrow--prev p").text($(r.$slides[r.currentSlide]).find(".difficulties__slide").attr("data-prev")),$(".difficulties__slider-arrow.slider__arrow--next p").text($(r.$slides[r.currentSlide]).find(".difficulties__slide").attr("data-next")),0===r.currentSlide?$(".difficulties__slider-arrow.slider__arrow--prev").hide():r.currentSlide==r.$slides.length-1?$(".difficulties__slider-arrow.slider__arrow--next").hide():($(".difficulties__slider-arrow.slider__arrow--prev").show(),$(".difficulties__slider-arrow.slider__arrow--next").show())})),$(".js-difficulties").slick({infinite:!1,prevArrow:'<div class="difficulties__slider-arrow slider__arrow slider__arrow--prev"><p></p></div>',nextArrow:'<div class="difficulties__slider-arrow slider__arrow slider__arrow--next"><p></p></div>',responsive:[{breakpoint:1199,settings:"unslick"}]}),$(window).innerWidth()<1200&&$(".difficulties__slider").on("scroll",(function(e){var r=$(e.currentTarget);r.addClass("difficulties--scrolled"),r.find(".difficulties__drag").fadeOut(150)})),$(window).innerWidth()<1200&&$(".footer__map-heading").on("click",(function(e){var r=$(e.currentTarget);r.hasClass("footer__map-heading--active")?r.parent().find(".footer__map-link").slideToggle(300):r.parent().find(".footer__map-link").css("display","block").hide(0).slideToggle(300),r.toggleClass("footer__map-heading--active")})),$(".js-specialists-slider").slick({slidesToShow:3,prevArrow:'<div class="slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="slider__arrow slider__arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,infinite:!1,slidesToShow:1}}]}),$(".consults-steps__card-accordeon").on("click",(function(e){e.preventDefault();var r=$(e.currentTarget),t=r.siblings(".consults-steps__card-content");t.is(":visible")?r.text(r.attr("data-show")):r.text(r.attr("data-hide")),t.slideToggle(300)})),$(".consults-types__card-info-more").on("click",(function(e){e.preventDefault();var r=$(e.currentTarget),t=r.closest(".consults-types__card").find(".consults-types__card-inner");t.is(":visible")?r.text(r.attr("data-show")):r.text(r.attr("data-hide")),r.toggleClass("consults-types__card-info-more--active"),t.slideToggle(300)})),$(".encyclopedia-toggles__item").on("click",(function(e){$(".encyclopedia-toggles__item--active").removeClass("encyclopedia-toggles__item--active"),$(e.currentTarget).addClass("encyclopedia-toggles__item--active")})),$(".encyclopedia-filter__head").on("click",(function(e){$(e.currentTarget).toggleClass("encyclopedia-filter__head--active"),$(".encyclopedia-filter__inner").slideToggle(300)})),$(".encyclopedia-filter__item").on("click",(function(e){$(e.currentTarget).toggleClass("encyclopedia-filter__item--active"),$(".encyclopedia-filter__head-themes-count").text($(".encyclopedia-filter__item--active").length)})),$(".encyclopedia-filter__btn").on("click",(function(){$(".encyclopedia-filter__head").toggleClass("encyclopedia-filter__head--active"),$(".encyclopedia-filter__inner").slideToggle(300)})),$(".encyclopedia-article__image-like").on("click",(function(e){$(e.currentTarget).toggleClass("encyclopedia-article__image-like--active")})),$(".calendar__table-popup-close").on("click",(function(e){$(e.currentTarget).parent().hide(0)})),$('.calendar__table-cell[data-week="hard"]').on("click",(function(e){var r=$(e.currentTarget),t=r.attr("data-popup");$(".calendar__table-popup").hide(0),$(window).innerWidth()>1199?$('.calendar__table-popup[data-popup="'.concat(t,'"]')).fadeIn(300):$('.calendar__table-popup[data-popup="'.concat(t,'"]')).css("top",r.position().top-15+"px").fadeIn(300)})),$(".js-range").each((function(e,r){var t=$(r);t.ionRangeSlider({type:"single",max:t.attr("data-max"),min:t.attr("data-min"),from:t.attr("value"),values:JSON.parse(t.attr("data-value")),grid:!0,grid_num:1,step:1,onFinish:function(e){$(".month-age__result-content").hide(0),$('.month-age__result-content[data-content="'.concat(e.from,'"]')).fadeIn(300),e.from==t.attr("data-min")?$(".month-age__selected").text((e.from_value+" месяцев").replace("<br>"," ")):$(".month-age__selected").text(e.from_value.replace("<br>"," "))}})})),$(".profile__children-add").on("click",(function(e){$('<div class="profile__children-row">\n    <input class="input profile__children-input" type="text" name="childrenBirthdate" placeholder="Дата рождения ребенка"/><a class="button button--quoternary profile__children-btn" href="#">Сон ребенка 0-3 месяца</a>\n  </div>').insertBefore($(e.currentTarget))})),$(".profile__aside-link").on("click",(function(e){var r=$(e.currentTarget),t=r.attr("data-tab");$(window).innerWidth()<1200&&($(".profile__aside").hide(0),$(".profile__main").fadeIn(300),$(".profile__heading-title").addClass("profile__heading-title--back")),$(".profile__aside-link--active").removeClass("profile__aside-link--active"),r.addClass("profile__aside-link--active"),$(".profile__content").hide(0),$('.profile__content[data-content="'.concat(t,'"]')).fadeIn(300)})),$(".profile__heading-title").on("click",(function(e){var r=$(e.currentTarget);$(window).innerWidth()<1200&&(r.removeClass("profile__heading-title--back"),$(".profile__main").hide(0),$(".profile__aside").fadeIn(300))})),$(".js-profile-consult").on("click",(function(){$(".profile__consult-main").hide(0),$(".profile__consult-main--form").fadeIn(300)})),$(".consultant__tabs-item").on("click",(function(e){e.preventDefault();var r=$(e.currentTarget),t=r.attr("data-content");$(".consultant__tabs-item--active").removeClass("consultant__tabs-item--active"),r.addClass("consultant__tabs-item--active"),$(".consultant__content").hide(0),$('.consultant__content[data-content="'.concat(t,'"]')).fadeIn(300)})),$(".js-consultant-certificates").slick({slidesToShow:4,infinite:!1,prevArrow:'<div class="consultant__certificates-arrow slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="consultant__certificates-arrow slider__arrow slider__arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,slidesToShow:2}}]});var o=$(".js-consultant-slider");o.on("init reInit afterChange",(function(e,r,t){var i=(t||0)+1;$(".consultant__slider-counter").text(i+" / "+r.slideCount)})),o.slick({infinite:!1,prevArrow:'<div class="consultant__slider-arrow slider__arrow slider__arrow--prev"></div>',nextArrow:'<div class="consultant__slider-arrow slider__arrow slider__arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1}}]}),$(window).innerWidth()>1199&&$(".js-child-more").on("click",(function(e){$($(e.currentTarget).parent().find('.js-form-row input[name="date"]')[0]).clone().insertBefore($(e.currentTarget).parent().find("button")).val("")})),$(".js-child-more").on("click",(function(e){$($(e.currentTarget).parent().find('input[name="date"]')[0]).clone().insertBefore($(e.currentTarget)).val("")}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzZXRUaW1lb3V0IiwiY3NzIiwiJCIsInJlbW92ZSIsImN1cnJlbnRUYXJnZXQiLCJlIiwiJHRoaXMiLCJjbG9zZXN0IiwiZmluZCIsIm5vdCIsInBhcmVudCIsInJlbW92ZUNsYXNzIiwibmV4dCIsInNsaWRlVXAiLCJ0b2dnbGVDbGFzcyIsInNsaWRlVG9nZ2xlIiwicGxhY2Vob2xkZXIiLCJlYWNoIiwiaSIsImF0dHIiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsImVsIiwib24iLCJoaWRlIiwicHJldmVudERlZmF1bHQiLCJjb25jYXQiLCJhZGRDbGFzcyIsInRoaXMiLCJuYW1lIiwiaGlkZU92ZXJmbG93IiwidG9wT2Zmc2V0IiwiY2xvc2VQb3B1cCIsIm9wZW5Qb3B1cCIsImxlbmd0aCIsImhhc0NsYXNzIiwicG9zaXRpb24iLCJtYXJnaW5Ub3AiLCIkcG9wdXAiLCJzY3JvbGxZIiwic2hvd092ZXJmbG93IiwiZmFkZUluIiwidGFyZ2V0Iiwic2xpY2siLCJhdXRvcGxheVNwZWVkIiwicHJldkFycm93IiwiZG9jdW1lbnQiLCIkbWVudSIsImlzIiwic2xpZGVEb3duIiwiaW5uZXJXaWR0aCIsIiRncmlkIiwiJG1hcCIsInNsaWRlc1RvU2hvdyIsIm5leHRBcnJvdyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwid2lkdGgiLCJjdXJyZW50Iiwic2V0dGluZ3MiLCJvZmZzZXQiLCJhcnJvd3MiLCJpbmZpbml0ZSIsInN3aXBlVG9TbGlkZSIsImF1dG9wbGF5IiwiY3NzRWFzZSIsInNwZWVkIiwiY3VycmVudFNsaWRlIiwicGF1c2VPbkhvdmVyIiwidGV4dCIsIiRzbGlkZXMiLCJzaG93IiwiZmFkZU91dCIsIiRjb250ZW50Iiwic2libGluZ3MiLCJ0eXBlIiwibWF4IiwiZnJvbSIsInZhbHVlcyIsInBhcnNlIiwiZ3JpZF9udW0iLCJzdGVwIiwidG9wIiwiJHJvdyIsImluc2VydEJlZm9yZSIsImlvblJhbmdlU2xpZGVyIiwibWluIiwiSlNPTiIsIm9uRmluaXNoIiwiZGF0YSIsImZyb21fdmFsdWUiLCJyZXBsYWNlIiwiJGNvbnN1bHRhbnRTbGlkZXIiLCJldmVudCIsInNsaWRlQ291bnQiLCJjbG9uZSIsInZhbCJdLCJtYXBwaW5ncyI6ImFBQUFBLE9BQU9DLE9BQVMsV0FBaEJELFlBQU9DLFdBRU5DLEVBQUFBLGlCQUFXQyxJQUFNLFVBQUEsS0FHaEJELFlBQUFBLFdBQ0VFLEVBQUFBLGlCQUFDQyxXQURPLE9BSEQsS0FTVEQsRUFBQSx5QkFBa0JFLEdBQUFBLFNBQWxCLFNBQUFDLEdBRUFDLElBQUFBLEVBQU1DLEVBQVFGLEVBQUFELGVBRWZFLEVBTENDLFFBQUEsaUJBQUFDLEtBQUEseUJBQUFDLElBQUFILEdBQUFJLFNBQUFDLFlBQUEsVUFBQUgsS0FBQSx5QkFBQUksT0FBQUMsUUFBQSxLQU1BWCxFQUFFUSxTQUFGSSxZQUFxQixVQUFBTixLQUFXLHlCQUFBSSxPQUFBRyxZQUFBLFFBRTlCQyxFQUFBQSxjQUFXQyxNQUFHLFNBQURDLEVBQU1DLEdBQ25CQyxFQUFBQSxHQUFBQSxRQUFBQSxDQUZZSixZQUFkZCxFQUFBbUIsR0FBQUYsS0FBQSxvQkFEQUMseUJBQUEsT0FRQWxCLEVBQUFBLGtCQUFBb0IsR0FBbUJaLFNBQVNhLFNBQUFBLEdBQzdCbEIsRUFIQ21CLGlCQUVBdEIsRUFBRUcsRUFBRUQsZUFBZU0sU0FBU2EsS0FBSyxNQUsvQnJCLEVBQUFKLFFBQU1RLGFBQU4sTUFFQUEsRUFBQUEsV0FBTWEsTUFBSyxTQUFBRCxFQUFYRyxHQUNELElBSkRmLEVBQUFKLEVBQUFtQixHQUdFZixFQUFNYSxLQUFLLFFBQVgsUUFBQU0sT0FBNEJuQixFQUFNYSxLQUFLLFlBQXZDLFlBQUFNLE9BQTZEbkIsRUFBTWEsS0FBSyxhQUF4RSxTQVFGakIsRUFBQUEsYUFBQ29CLEdBQUEsU0FBQSxXQUNEaEIsSUFBQUEsRUFBTW9CLEVBQU5DLE1BTEFDLEVBQUF0QixFQUFBRSxL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OUNoRSxFQUFFLCtCQUErQmtFLEtBQUtsRCxFQUFJLE1BQVF3QixFQUFNbUQsZUFFMURGLEVBQWtCakQsTUFBTSxDQUN0Qm1CLFVBQVUsRUFDVmpCLFVBQVcsaUZBQ1hTLFVBQVcsaUZBQ1hDLFdBQVksQ0FBQyxDQUNYQyxXQUFZLEtBQ1pHLFNBQVUsQ0FDUkUsUUFBUSxPQUtSMUQsRUFBRUosUUFBUW1ELGFBQWUsTUFFM0IvQyxFQUFFLGtCQUFrQm9CLEdBQUcsU0FBUyxTQUFBakIsR0FDOUJILEVBQUVBLEVBQUVHLEVBQUVELGVBQWVNLFNBQVNGLEtBQUssbUNBQW1DLElBQUlzRixRQUFRWCxhQUFhakYsRUFBRUcsRUFBRUQsZUFBZU0sU0FBU0YsS0FBSyxXQUFXdUYsSUFBSSxPQUdqSjdGLEVBQUUsa0JBQWtCb0IsR0FBRyxTQUFTLFNBQUFqQixHQUM5QkgsRUFBRUEsRUFBRUcsRUFBRUQsZUFBZU0sU0FBU0YsS0FBSyxzQkFBc0IsSUFBSXNGLFFBQVFYLGFBQWFqRixFQUFFRyxFQUFFRCxnQkFBZ0IyRixJQUFJIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuICAkKCcuanMtcHJlbG9hZGVyJykuY3NzKCdvcGFjaXR5JywgJzAnKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkKCcuanMtcHJlbG9hZGVyJykucmVtb3ZlKCk7XG4gIH0sIDUwMCk7XG59LCAzMDAwKTtcblxuICAkKCcuanMtYWNjb3JkZW9uLXRyaWdnZXInKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmpzLWFjY29yZGVvbicpLmZpbmQoJy5qcy1hY2NvcmRlb24tdHJpZ2dlcicpLm5vdCgkdGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmZpbmQoJy5qcy1hY2NvcmRlb24tdHJpZ2dlcicpLm5leHQoKS5zbGlkZVVwKDMwMCk7XG4gICR0aGlzLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKS5maW5kKCcuanMtYWNjb3JkZW9uLXRyaWdnZXInKS5uZXh0KCkuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICAkKCcuanMtc2VsZWN0JykuZWFjaCgoaSwgZWwpID0+IHtcbiAgJChlbCkuc2VsZWN0Mih7XG4gICAgcGxhY2Vob2xkZXI6ICQoZWwpLmF0dHIoJ2RhdGEtcGxhY2Vob2xkZXInKSxcbiAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogLTFcbiAgfSk7XG59KTtcbiAgJCgnLmJ1YmJsZV9fY2xvc2UnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCkuaGlkZSgwKTtcbn0pO1xuXG5pZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDEyMDApIHtcbiAgJCgnLmJ1YmJsZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGVsKTtcblxuICAgICR0aGlzLmF0dHIoJ3N0eWxlJywgYHRvcDogJHskdGhpcy5hdHRyKCdkYXRhLXRvcCcpfTsgbGVmdDogJHskdGhpcy5hdHRyKCdkYXRhLWxlZnQnKX07YCk7XG4gIH0pO1xufVxuXG4gICQoJy5qcy1yYWRpbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICBjb25zdCBuYW1lID0gJHRoaXMuZmluZCgnaW5wdXQnKS5hdHRyKCduYW1lJyk7XG5cbiAgJChgLnJhZGlvX19pbnB1dFtuYW1lPVwiJHtuYW1lfVwiXWApLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdyYWRpby0tY2hlY2tlZCcpO1xuICAkdGhpcy5hZGRDbGFzcygncmFkaW8tLWNoZWNrZWQnKTtcbn0pO1xuICBsZXQgdG9wT2Zmc2V0ID0gMDtcblxuY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICB0b3BPZmZzZXQgPSB3aW5kb3cuc2Nyb2xsWTtcblxuICAkKCdib2R5JykuY3NzKHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICBtYXJnaW5Ub3A6IGAkey10b3BPZmZzZXR9cHhgXG4gIH0pO1xufTtcblxuY29uc3Qgc2hvd092ZXJmbG93ID0gKCkgPT4ge1xuICAkKCdib2R5JykuY3NzKHtcbiAgICBwb3NpdGlvbjogJ3N0YXRpYycsXG4gICAgbWFyZ2luVG9wOiAnMCdcbiAgfSk7XG5cbiAgd2luZG93LnNjcm9sbFRvKDAsIHRvcE9mZnNldCk7XG59O1xuXG5jb25zdCBjbG9zZVBvcHVwID0gKGUsICR0aGlzKSA9PiB7XG4gIGlmKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcucG9wdXBfX3dpbmRvdycpLmxlbmd0aCB8fCAhJHRoaXMuaGFzQ2xhc3MoJ2pzLXBvcHVwJykpIHtcbiAgICBzaG93T3ZlcmZsb3coKTtcbiAgXG4gICAgJHRoaXMuY2xvc2VzdCgnLmpzLXBvcHVwJykuaGlkZSgwKTtcblx0fVxufTtcblxuY29uc3Qgb3BlblBvcHVwID0gKCRwb3B1cCkgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcbiAgXG4gICRwb3B1cC5mYWRlSW4oMzAwKTtcbn07XG5cbiQoJ2JvZHknKS5vbignY2xpY2snLCAnLmpzLW9wZW4tcG9wdXAnLCBmdW5jdGlvbiAoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXBvcHVwJyk7XG4gIGNvbnN0ICRwb3B1cCA9ICQoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG4gIG9wZW5Qb3B1cCgkcG9wdXApO1xufSk7XG5cbiQoJy5qcy1jbG9zZS1wb3B1cCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGNsb3NlUG9wdXAoZSwgJCh0aGlzKSk7XG59KTtcblxuJCgnLnBvcHVwX19hdXRoLXRhYnMtaXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFiJyk7XG5cbiAgJCgnLnBvcHVwX19hdXRoLXRhYnMtaXRlbS0tY3VycmVudCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9fYXV0aC10YWJzLWl0ZW0tLWN1cnJlbnQnKTtcbiAgJHRoaXMuYWRkQ2xhc3MoJ3BvcHVwX19hdXRoLXRhYnMtaXRlbS0tY3VycmVudCcpO1xuICBcbiAgJCgnLnBvcHVwX19hdXRoLWNvbnRlbnQtLWN1cnJlbnQnKS5yZW1vdmVDbGFzcygncG9wdXBfX2F1dGgtY29udGVudC0tY3VycmVudCcpO1xuICAkKGAucG9wdXBfX2F1dGgtY29udGVudFtkYXRhLXRhYj1cIiR7dGFyZ2V0fVwiXWApLmFkZENsYXNzKCdwb3B1cF9fYXV0aC1jb250ZW50LS1jdXJyZW50Jyk7XG59KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmhlYWRlci1ib3R0b21fX21lbnUnKS5sZW5ndGggJiYgISQoZS50YXJnZXQpLmhhc0NsYXNzKCdoZWFkZXItYm90dG9tX19uYXYtbGluaycpKSB7XG4gICAgJCgnLmhlYWRlci1ib3R0b21fX21lbnUnKS5zbGlkZVVwKDMwMCk7XG4gIH1cbn0pO1xuXG4kKCcuanMtaGVhZGVyLXNsaWRlcicpLnNsaWNrKHtcbiAgYXV0b3BsYXk6IHRydWUsXG4gIGF1dG9wbGF5U3BlZWQ6IDcwMDAsXG4gIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJoZWFkZXItdG9wX19zbGlkZXItYXJyb3cgaGVhZGVyLXRvcF9fc2xpZGVyLWFycm93LS1wcmV2XCI+4oaSPC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cImhlYWRlci10b3BfX3NsaWRlci1hcnJvdyBoZWFkZXItdG9wX19zbGlkZXItYXJyb3ctLW5leHRcIj7ihpI8L2Rpdj4nXG59KTtcblxuJCgnLmhlYWRlci1ib3R0b21fX25hdi1saW5rJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgJCgnLmhlYWRlci1ib3R0b21fX21lbnUnKS5oaWRlKDApO1xuXG4gIGNvbnN0ICRtZW51ID0gJChgLmhlYWRlci1ib3R0b21fX21lbnVbZGF0YS1tZW51PVwiJHskKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1tZW51Jyl9XCJdYCk7XG5cbiAgaWYgKCRtZW51LmlzKCc6dmlzaWJsZScpKSB7XG4gICAgJG1lbnUuc2xpZGVVcCgzMDApO1xuICB9IGVsc2Uge1xuICAgICRtZW51LmNzcygnZGlzcGxheScsICdmbGV4JykuaGlkZSgwKS5zbGlkZURvd24oMzAwKTtcbiAgfVxufSk7XG5cbiQoJy5oZWFkZXItbWlkZGxlX19pbmZvLWFjdGlvbltkYXRhLWljb249XCJidXJnZXJcIl0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCdoZWFkZXItbWlkZGxlX19pbmZvLWFjdGlvbi0tYWN0aXZlJyk7XG4gIFxuICAkKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ2hlYWRlci0tYWN0aXZlJyk7XG4gICQoJy5oZWFkZXJfX21lbnUnKS5zbGlkZVRvZ2dsZSg1MDApO1xufSk7XG5cbiQoJy5oZWFkZXJfX21lbnUtbWFwLWhlYWRpbmcnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0ICRtYXAgPSAkdGhpcy5wYXJlbnQoKTtcbiAgXG4gIGlmICgkbWFwLmhhc0NsYXNzKCdoZWFkZXJfX21lbnUtbWFwLS1hY3RpdmUnKSkge1xuICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5oZWFkZXJfX21lbnUtbWFwLWxpbmsnKS5zbGlkZVRvZ2dsZSgzMDApO1xuICB9IGVsc2Uge1xuICAgICQoJy5oZWFkZXJfX21lbnUtbWFwJykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudS1tYXAtLWFjdGl2ZScpO1xuICAgICQoJy5oZWFkZXJfX21lbnUtbWFwLWxpbmsnKS5zbGlkZVVwKDMwMCk7XG4gICAgJHRoaXMucGFyZW50KCkuZmluZCgnLmhlYWRlcl9fbWVudS1tYXAtbGluaycpLmNzcygnZGlzcGxheScsICdibG9jaycpLmhpZGUoMCkuc2xpZGVUb2dnbGUoMzAwKTtcbiAgfVxuICAkbWFwLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21lbnUtbWFwLS1hY3RpdmUnKTtcbn0pO1xuICBpZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDEyMDApIHtcbiAgY29uc3QgJGdyaWQgPSAkKCcuZW5jeWNsb3BlZGlhLXRhYnNfX2dyaWQnKTtcbiAgY29uc3QgY3VycmVudCA9ICRncmlkLmF0dHIoJ2RhdGEtY3VycmVudCcpO1xuICBjb25zdCBvZmZzZXQgPSAkKCcuZW5jeWNsb3BlZGlhLXRhYnNfX2l0ZW0nKS53aWR0aCgpICogY3VycmVudDtcblxuICBpZiAoY3VycmVudCAhPT0gMCkge1xuICAgICRncmlkLnNjcm9sbExlZnQob2Zmc2V0ICsgMzApO1xuICB9XG59XG4gICQoJy5qcy1oZWxwZnVsLXNlcnZpY2VzLXNsaWRlcicpLnNsaWNrKHtcbiAgc2xpZGVzVG9TaG93OiA0LFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1wcmV2XCI+PC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cInNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tbmV4dFwiPjwvZGl2PicsXG4gIHJlc3BvbnNpdmU6IFt7XG4gICAgYnJlYWtwb2ludDogMTE5OSxcbiAgICBzZXR0aW5nczogJ3Vuc2xpY2snXG4gIH1dXG59KTtcblxuJCgnLmpzLWhlbHBmdWwtYXJ0aWNsZXMtc2xpZGVyJykuc2xpY2soe1xuICBzbGlkZXNUb1Nob3c6IDMsXG4gIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGlkZXJfX2Fycm93IHNsaWRlcl9fYXJyb3ctLXByZXZcIj48L2Rpdj4nLFxuICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgc2xpZGVzVG9TaG93OiAxXG4gICAgfVxuICB9XVxufSk7XG4gICQoJy5qcy1yZXZpZXdzLXNsaWRlcicpLnNsaWNrKHtcbiAgc2xpZGVzVG9TaG93OiAzLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwicmV2aWV3c19fc2xpZGVyLWFycm93IHNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJyZXZpZXdzX19zbGlkZXItYXJyb3cgc2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgc2xpZGVzVG9TaG93OiAxXG4gICAgfVxuICB9XVxufSk7XG5cbiQoJy5qcy1wYXJ0bmVycy1zbGlkZXInKS5zbGljayh7XG4gIHNsaWRlc1RvU2hvdzogNixcbiAgc3dpcGVUb1NsaWRlOiB0cnVlLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwicmV2aWV3c19fcGFydG5lcnMtYXJyb3cgc2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1wcmV2XCI+PC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cInJldmlld3NfX3BhcnRuZXJzLWFycm93IHNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tbmV4dFwiPjwvZGl2PicsXG4gIHBhdXNlT25Ib3ZlcjogZmFsc2UsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICBhdXRvcGxheVNwZWVkOiAwLFxuICBjc3NFYXNlOidsaW5lYXInLFxuICBzcGVlZDogMTAwMDAsXG4gIHJlc3BvbnNpdmU6IFt7XG4gICAgYnJlYWtwb2ludDogMTE5OSxcbiAgICBzZXR0aW5nczoge1xuICAgICAgc2xpZGVzVG9TaG93OiAzXG4gICAgfVxuICB9XVxufSk7XG4gICQoJy5qcy1kaWZmaWN1bHRpZXMnKS5vbignYWZ0ZXJDaGFuZ2UgaW5pdCcsIChlLCBpKSA9PiB7XG4gICQoJy5kaWZmaWN1bHRpZXNfX3NsaWRlci1hcnJvdy5zbGlkZXJfX2Fycm93LS1wcmV2IHAnKS50ZXh0KCQoaS4kc2xpZGVzW2kuY3VycmVudFNsaWRlXSkuZmluZCgnLmRpZmZpY3VsdGllc19fc2xpZGUnKS5hdHRyKCdkYXRhLXByZXYnKSk7XG4gICQoJy5kaWZmaWN1bHRpZXNfX3NsaWRlci1hcnJvdy5zbGlkZXJfX2Fycm93LS1uZXh0IHAnKS50ZXh0KCQoaS4kc2xpZGVzW2kuY3VycmVudFNsaWRlXSkuZmluZCgnLmRpZmZpY3VsdGllc19fc2xpZGUnKS5hdHRyKCdkYXRhLW5leHQnKSk7XG4gIGlmIChpLmN1cnJlbnRTbGlkZSA9PT0gMCkge1xuICAgICQoJy5kaWZmaWN1bHRpZXNfX3NsaWRlci1hcnJvdy5zbGlkZXJfX2Fycm93LS1wcmV2JykuaGlkZSgpO1xuICB9IGVsc2UgaWYgKGkuY3VycmVudFNsaWRlID09IGkuJHNsaWRlcy5sZW5ndGggLSAxKSB7XG4gICAgJCgnLmRpZmZpY3VsdGllc19fc2xpZGVyLWFycm93LnNsaWRlcl9fYXJyb3ctLW5leHQnKS5oaWRlKCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmRpZmZpY3VsdGllc19fc2xpZGVyLWFycm93LnNsaWRlcl9fYXJyb3ctLXByZXYnKS5zaG93KCk7XG4gICAgJCgnLmRpZmZpY3VsdGllc19fc2xpZGVyLWFycm93LnNsaWRlcl9fYXJyb3ctLW5leHQnKS5zaG93KCk7XG4gIH1cbn0pO1xuXG4kKCcuanMtZGlmZmljdWx0aWVzJykuc2xpY2soe1xuICBpbmZpbml0ZTogZmFsc2UsXG4gIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJkaWZmaWN1bHRpZXNfX3NsaWRlci1hcnJvdyBzbGlkZXJfX2Fycm93IHNsaWRlcl9fYXJyb3ctLXByZXZcIj48cD48L3A+PC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cImRpZmZpY3VsdGllc19fc2xpZGVyLWFycm93IHNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tbmV4dFwiPjxwPjwvcD48L2Rpdj4nLFxuICByZXNwb25zaXZlOiBbe1xuICAgIGJyZWFrcG9pbnQ6IDExOTksXG4gICAgc2V0dGluZ3M6ICd1bnNsaWNrJ1xuICB9XVxufSk7XG5cbmlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTIwMCkge1xuICAkKCcuZGlmZmljdWx0aWVzX19zbGlkZXInKS5vbignc2Nyb2xsJywgZSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgICAkdGhpcy5hZGRDbGFzcygnZGlmZmljdWx0aWVzLS1zY3JvbGxlZCcpO1xuICAgICR0aGlzLmZpbmQoJy5kaWZmaWN1bHRpZXNfX2RyYWcnKS5mYWRlT3V0KDE1MCk7XG4gIH0pO1xufVxuICBpZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDEyMDApIHtcbiAgJCgnLmZvb3Rlcl9fbWFwLWhlYWRpbmcnKS5vbignY2xpY2snLCBlID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgIGlmICgkdGhpcy5oYXNDbGFzcygnZm9vdGVyX19tYXAtaGVhZGluZy0tYWN0aXZlJykpIHtcbiAgICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5mb290ZXJfX21hcC1saW5rJykuc2xpZGVUb2dnbGUoMzAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMucGFyZW50KCkuZmluZCgnLmZvb3Rlcl9fbWFwLWxpbmsnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKS5oaWRlKDApLnNsaWRlVG9nZ2xlKDMwMCk7XG4gICAgfVxuICAgICR0aGlzLnRvZ2dsZUNsYXNzKCdmb290ZXJfX21hcC1oZWFkaW5nLS1hY3RpdmUnKTtcbiAgfSk7XG59XG4gICQoJy5qcy1zcGVjaWFsaXN0cy1zbGlkZXInKS5zbGljayh7XG4gIHNsaWRlc1RvU2hvdzogMyxcbiAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cInNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGlkZXJfX2Fycm93IHNsaWRlcl9fYXJyb3ctLW5leHRcIj48L2Rpdj4nLFxuICByZXNwb25zaXZlOiBbe1xuICAgIGJyZWFrcG9pbnQ6IDExOTksXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICBzbGlkZXNUb1Nob3c6IDFcbiAgICB9XG4gIH1dXG59KTtcbiAgJCgnLmNvbnN1bHRzLXN0ZXBzX19jYXJkLWFjY29yZGVvbicpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0ICRjb250ZW50ID0gJHRoaXMuc2libGluZ3MoJy5jb25zdWx0cy1zdGVwc19fY2FyZC1jb250ZW50Jyk7XG5cbiAgaWYgKCRjb250ZW50LmlzKCc6dmlzaWJsZScpKSB7XG4gICAgJHRoaXMudGV4dCgkdGhpcy5hdHRyKCdkYXRhLXNob3cnKSk7XG4gIH0gZWxzZSB7XG4gICAgJHRoaXMudGV4dCgkdGhpcy5hdHRyKCdkYXRhLWhpZGUnKSk7XG4gIH1cblxuICAkY29udGVudC5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG4gICQoJy5jb25zdWx0cy10eXBlc19fY2FyZC1pbmZvLW1vcmUnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCAkY29udGVudCA9ICR0aGlzLmNsb3Nlc3QoJy5jb25zdWx0cy10eXBlc19fY2FyZCcpLmZpbmQoJy5jb25zdWx0cy10eXBlc19fY2FyZC1pbm5lcicpO1xuXG4gIGlmICgkY29udGVudC5pcygnOnZpc2libGUnKSkge1xuICAgICR0aGlzLnRleHQoJHRoaXMuYXR0cignZGF0YS1zaG93JykpO1xuICB9IGVsc2Uge1xuICAgICR0aGlzLnRleHQoJHRoaXMuYXR0cignZGF0YS1oaWRlJykpO1xuICB9XG5cbiAgJHRoaXMudG9nZ2xlQ2xhc3MoJ2NvbnN1bHRzLXR5cGVzX19jYXJkLWluZm8tbW9yZS0tYWN0aXZlJyk7XG5cbiAgJGNvbnRlbnQuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICAkKCcuZW5jeWNsb3BlZGlhLXRvZ2dsZXNfX2l0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgJCgnLmVuY3ljbG9wZWRpYS10b2dnbGVzX19pdGVtLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZW5jeWNsb3BlZGlhLXRvZ2dsZXNfX2l0ZW0tLWFjdGl2ZScpO1xuICAkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoJ2VuY3ljbG9wZWRpYS10b2dnbGVzX19pdGVtLS1hY3RpdmUnKTtcbn0pO1xuICAkKCcuZW5jeWNsb3BlZGlhLWZpbHRlcl9faGVhZCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICAkKGUuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2VuY3ljbG9wZWRpYS1maWx0ZXJfX2hlYWQtLWFjdGl2ZScpO1xuICAkKCcuZW5jeWNsb3BlZGlhLWZpbHRlcl9faW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbiQoJy5lbmN5Y2xvcGVkaWEtZmlsdGVyX19pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnZW5jeWNsb3BlZGlhLWZpbHRlcl9faXRlbS0tYWN0aXZlJyk7XG4gICQoJy5lbmN5Y2xvcGVkaWEtZmlsdGVyX19oZWFkLXRoZW1lcy1jb3VudCcpLnRleHQoJCgnLmVuY3ljbG9wZWRpYS1maWx0ZXJfX2l0ZW0tLWFjdGl2ZScpLmxlbmd0aCk7XG59KTtcblxuJCgnLmVuY3ljbG9wZWRpYS1maWx0ZXJfX2J0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmVuY3ljbG9wZWRpYS1maWx0ZXJfX2hlYWQnKS50b2dnbGVDbGFzcygnZW5jeWNsb3BlZGlhLWZpbHRlcl9faGVhZC0tYWN0aXZlJyk7XG4gICQoJy5lbmN5Y2xvcGVkaWEtZmlsdGVyX19pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcbiAgJCgnLmVuY3ljbG9wZWRpYS1hcnRpY2xlX19pbWFnZS1saWtlJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnZW5jeWNsb3BlZGlhLWFydGljbGVfX2ltYWdlLWxpa2UtLWFjdGl2ZScpO1xufSk7XG4gICQoJy5jYWxlbmRhcl9fdGFibGUtcG9wdXAtY2xvc2UnKS5vbignY2xpY2snLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLmhpZGUoMCk7XG59KTtcblxuJCgnLmNhbGVuZGFyX190YWJsZS1jZWxsW2RhdGEtd2Vlaz1cImhhcmRcIl0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtcG9wdXAnKTtcblxuICAkKCcuY2FsZW5kYXJfX3RhYmxlLXBvcHVwJykuaGlkZSgwKTtcbiAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPiAxMTk5KSB7XG4gICAgJChgLmNhbGVuZGFyX190YWJsZS1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCkuZmFkZUluKDMwMCk7XG4gIH0gZWxzZSB7XG4gICAgJChgLmNhbGVuZGFyX190YWJsZS1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCkuY3NzKCd0b3AnLCAkdGhpcy5wb3NpdGlvbigpLnRvcCAtIDE1ICsgJ3B4JykuZmFkZUluKDMwMCk7XG4gIH1cbn0pO1xuICAkKCcuanMtcmFuZ2UnKS5lYWNoKChpLCBlbCkgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZWwpO1xuXG4gICR0aGlzLmlvblJhbmdlU2xpZGVyKHtcbiAgICB0eXBlOiAnc2luZ2xlJyxcbiAgICBtYXg6ICR0aGlzLmF0dHIoJ2RhdGEtbWF4JyksXG4gICAgbWluOiAkdGhpcy5hdHRyKCdkYXRhLW1pbicpLFxuICAgIGZyb206ICR0aGlzLmF0dHIoJ3ZhbHVlJyksXG4gICAgdmFsdWVzOiBKU09OLnBhcnNlKCR0aGlzLmF0dHIoJ2RhdGEtdmFsdWUnKSksXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBncmlkX251bTogMSxcbiAgICBzdGVwOiAxLFxuICAgIG9uRmluaXNoOiBkYXRhID0+IHtcbiAgICAgICQoJy5tb250aC1hZ2VfX3Jlc3VsdC1jb250ZW50JykuaGlkZSgwKVxuICAgICAgJChgLm1vbnRoLWFnZV9fcmVzdWx0LWNvbnRlbnRbZGF0YS1jb250ZW50PVwiJHtkYXRhLmZyb219XCJdYCkuZmFkZUluKDMwMClcbiAgICAgIGlmIChkYXRhLmZyb20gPT0gJHRoaXMuYXR0cignZGF0YS1taW4nKSkge1xuICAgICAgICAkKCcubW9udGgtYWdlX19zZWxlY3RlZCcpLnRleHQoKGRhdGEuZnJvbV92YWx1ZSArICcg0LzQtdGB0Y/RhtC10LInKS5yZXBsYWNlKCc8YnI+JywgJyAnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcubW9udGgtYWdlX19zZWxlY3RlZCcpLnRleHQoZGF0YS5mcm9tX3ZhbHVlLnJlcGxhY2UoJzxicj4nLCAnICcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSk7XG4gICQoJy5wcm9maWxlX19jaGlsZHJlbi1hZGQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHJvdyA9ICQoYDxkaXYgY2xhc3M9XCJwcm9maWxlX19jaGlsZHJlbi1yb3dcIj5cbiAgICA8aW5wdXQgY2xhc3M9XCJpbnB1dCBwcm9maWxlX19jaGlsZHJlbi1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNoaWxkcmVuQmlydGhkYXRlXCIgcGxhY2Vob2xkZXI9XCLQlNCw0YLQsCDRgNC+0LbQtNC10L3QuNGPINGA0LXQsdC10L3QutCwXCIvPjxhIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi0tcXVvdGVybmFyeSBwcm9maWxlX19jaGlsZHJlbi1idG5cIiBocmVmPVwiI1wiPtCh0L7QvSDRgNC10LHQtdC90LrQsCAwLTMg0LzQtdGB0Y/RhtCwPC9hPlxuICA8L2Rpdj5gKTtcblxuICAkcm93Lmluc2VydEJlZm9yZSgkKGUuY3VycmVudFRhcmdldCkpO1xufSk7XG5cbiQoJy5wcm9maWxlX19hc2lkZS1saW5rJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKCdkYXRhLXRhYicpO1xuXG4gIGlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTIwMCkge1xuICAgJCgnLnByb2ZpbGVfX2FzaWRlJykuaGlkZSgwKTsgXG4gICAkKCcucHJvZmlsZV9fbWFpbicpLmZhZGVJbigzMDApO1xuXG4gICAkKCcucHJvZmlsZV9faGVhZGluZy10aXRsZScpLmFkZENsYXNzKCdwcm9maWxlX19oZWFkaW5nLXRpdGxlLS1iYWNrJyk7XG4gIH1cblxuICAkKCcucHJvZmlsZV9fYXNpZGUtbGluay0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3Byb2ZpbGVfX2FzaWRlLWxpbmstLWFjdGl2ZScpO1xuICAkdGhpcy5hZGRDbGFzcygncHJvZmlsZV9fYXNpZGUtbGluay0tYWN0aXZlJyk7XG4gICQoJy5wcm9maWxlX19jb250ZW50JykuaGlkZSgwKTtcbiAgJChgLnByb2ZpbGVfX2NvbnRlbnRbZGF0YS1jb250ZW50PVwiJHt0YXJnZXR9XCJdYCkuZmFkZUluKDMwMCk7XG59KTtcblxuJCgnLnByb2ZpbGVfX2hlYWRpbmctdGl0bGUnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPCAxMjAwKSB7XG4gICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ3Byb2ZpbGVfX2hlYWRpbmctdGl0bGUtLWJhY2snKTtcblxuICAgICQoJy5wcm9maWxlX19tYWluJykuaGlkZSgwKTtcbiAgICAkKCcucHJvZmlsZV9fYXNpZGUnKS5mYWRlSW4oMzAwKTtcbiAgfVxufSk7XG5cbiQoJy5qcy1wcm9maWxlLWNvbnN1bHQnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5wcm9maWxlX19jb25zdWx0LW1haW4nKS5oaWRlKDApO1xuICAkKCcucHJvZmlsZV9fY29uc3VsdC1tYWluLS1mb3JtJykuZmFkZUluKDMwMCk7XG59KTtcbiAgJCgnLmNvbnN1bHRhbnRfX3RhYnMtaXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKCdkYXRhLWNvbnRlbnQnKTtcblxuICAkKCcuY29uc3VsdGFudF9fdGFicy1pdGVtLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnY29uc3VsdGFudF9fdGFicy1pdGVtLS1hY3RpdmUnKTtcbiAgJHRoaXMuYWRkQ2xhc3MoJ2NvbnN1bHRhbnRfX3RhYnMtaXRlbS0tYWN0aXZlJyk7XG5cbiAgJCgnLmNvbnN1bHRhbnRfX2NvbnRlbnQnKS5oaWRlKDApO1xuICAkKGAuY29uc3VsdGFudF9fY29udGVudFtkYXRhLWNvbnRlbnQ9XCIke3RhcmdldH1cIl1gKS5mYWRlSW4oMzAwKTtcbn0pO1xuXG4kKCcuanMtY29uc3VsdGFudC1jZXJ0aWZpY2F0ZXMnKS5zbGljayh7XG4gIHNsaWRlc1RvU2hvdzogNCxcbiAgaW5maW5pdGU6IGZhbHNlLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwiY29uc3VsdGFudF9fY2VydGlmaWNhdGVzLWFycm93IHNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJjb25zdWx0YW50X19jZXJ0aWZpY2F0ZXMtYXJyb3cgc2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgc2xpZGVzVG9TaG93OiAyXG4gICAgfVxuICB9XVxufSk7XG5cbmNvbnN0ICRjb25zdWx0YW50U2xpZGVyID0gJCgnLmpzLWNvbnN1bHRhbnQtc2xpZGVyJyk7XG4kY29uc3VsdGFudFNsaWRlci5vbignaW5pdCByZUluaXQgYWZ0ZXJDaGFuZ2UnLCAoZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUpID0+IHtcbiAgY29uc3QgaSA9IChjdXJyZW50U2xpZGUgPyBjdXJyZW50U2xpZGUgOiAwKSArIDE7XG4gICQoJy5jb25zdWx0YW50X19zbGlkZXItY291bnRlcicpLnRleHQoaSArICcgLyAnICsgc2xpY2suc2xpZGVDb3VudCk7XG59KTtcbiRjb25zdWx0YW50U2xpZGVyLnNsaWNrKHtcbiAgaW5maW5pdGU6IGZhbHNlLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwiY29uc3VsdGFudF9fc2xpZGVyLWFycm93IHNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJjb25zdWx0YW50X19zbGlkZXItYXJyb3cgc2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgIH1cbiAgfV1cbn0pO1xuXG4gIGlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpID4gMTE5OSkge1xuXG4gICAgJCgnLmpzLWNoaWxkLW1vcmUnKS5vbignY2xpY2snLCBlID0+IHtcbiAgICAgICQoJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLmZpbmQoJy5qcy1mb3JtLXJvdyBpbnB1dFtuYW1lPVwiZGF0ZVwiXScpWzBdKS5jbG9uZSgpLmluc2VydEJlZm9yZSgkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCkuZmluZCgnYnV0dG9uJykpLnZhbCgnJyk7XG4gICAgfSk7XG4gIH0ge1xuICAgICQoJy5qcy1jaGlsZC1tb3JlJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgICAkKCQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKS5maW5kKCdpbnB1dFtuYW1lPVwiZGF0ZVwiXScpWzBdKS5jbG9uZSgpLmluc2VydEJlZm9yZSgkKGUuY3VycmVudFRhcmdldCkpLnZhbCgnJyk7XG4gICAgfSk7XG4gIH1cbn0iXX0=
